// THE ORDER OF THE IMPORTS IN THIS FILE MATTER!
// DO NOT MOVE THEM UNLESS YOU KNOW WHAT YOUR DOING!

import "./util/utils.ts";
import "./util/validate_length.ts";
import "./util/loop_object.ts";

// Final cleanup

import { cache } from "../src/cache.ts";
import { delay } from "../src/util/utils.ts";
if (import.meta.main) {
  // clear all the sweeper intervals
  for (const c of Object.values(cache)) {
    if (!(c instanceof Map)) continue;

    c.stopSweeper();
    console.log("Cleaned");
  }

  await delay(3000);
}
